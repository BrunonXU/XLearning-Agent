# 每日复盘 Prompt

> **用法**：每天改完代码后，把下面的 Prompt 模板复制到 Cursor / ChatGPT / Claude 中，
> 替换 `{{}}` 中的变量，让 AI 帮你做结构化复盘 + 面试模拟。
> **耗时**：约 15-20 分钟
> **配合文件**：`TODO.md` + `docs/interview_study_plan.md`

---

## Prompt（直接复制使用）

```
你是我的 AI 学习教练兼面试陪练，请帮我完成今天的开发复盘。

## 我的项目背景

XLearning-Agent 是一个基于 LangChain + LangGraph + RAG + Multi-Agent 架构的 AI 学习助手。
核心功能：用户上传 PDF/GitHub URL → Planner 生成学习计划 → Tutor 互动教学（RAG增强）→ Validator 测验评估 → 进度报告。
技术栈：Python, LangChain (ChatTongyi/DashScopeEmbeddings/Chroma), LangGraph, LangSmith, Streamlit。
架构：七层架构（展示层→可观测层→协调层→功能Agent层→专业处理层→RAG知识层→基础设施层）。

## 今天的工作

**日期**: {{今天的日期，如 2026-02-11}}
**对应 TODO 编号**: {{如 P0-1, P1-2 等}}
**改动的文件**:
{{列出今天改的文件路径，如：
- src/agents/planner.py
- src/ui/logic.py
}}

**核心改动描述**:
{{用 2-3 句话描述你今天做了什么，如：
重写了 PlannerAgent 的 _parse_plan() 方法，改为让 LLM 以 JSON 格式输出结构化学习计划，
增加了正则提取 + fallback 降级策略。测试了 PDF 和纯文本两种输入，计划内容不再是硬编码模板。
}}

**遇到的问题/卡点**（如果有）:
{{如：LLM 输出的 JSON 偶尔会多一个逗号导致 json.loads 失败}}

---

请按以下结构帮我完成复盘：

### 一、技术复盘（讲给自己听）

1. **改动拆解**：把我今天的改动拆解成 3-5 个技术点，每个点用一句话说清楚"做了什么"和"为什么这样做"。
2. **代码质量检查**：根据我描述的改动，指出可能存在的问题或可以优化的地方（如边界条件、错误处理、性能）。
3. **关联知识**：这次改动关联了哪些 LangChain / LangGraph / RAG 的概念？列出概念名称并各用一句话解释，方便我后续深入学习。

### 二、面试模拟（讲给面试官听）

针对今天的改动，模拟面试官可能会问的 **3 个由浅入深的问题**，格式如下：

**Q1（表层）**: [一个"你做了什么"类型的问题]
**参考回答**: [30秒以内的简洁回答]

**Q2（中层）**: [一个"为什么这样做"类型的追问]
**参考回答**: [1分钟以内的回答，包含对比方案和权衡理由]

**Q3（深层）**: [一个"如果xxx你怎么办"类型的延伸问题]
**参考回答**: [1-2分钟的回答，展示系统性思考]

### 三、面试话术打磨

把今天的改动浓缩成一段 **30 秒面试话术**（可以直接背的那种），要求：
- 以"我做了..."开头
- 包含问题→方案→效果的叙事结构
- 包含至少一个 LangChain/LangGraph 相关关键词
- 如果有量化指标更好（如"准确率从 X 提升到 Y"）

### 四、明日计划

根据 TODO.md 的优先级，帮我建议明天应该做什么，并提醒我：
- 明天的改动涉及哪些文件
- 需要提前阅读哪些 LangChain/LangGraph 文档
- 有什么需要注意的坑

### 五、知识深度自检

根据 interview_study_plan.md 中的"三档知识深度"，帮我检查：
- 今天的改动涉及的概念，我应该达到哪个档位？（A-白板默写 / B-逻辑清楚 / C-知道即可）
- 列出 2-3 个我今天应该能在白板上画出来的图或流程
- 如果我画不出来，给我一个最简版本参考

回答请全部使用中文。
```

---

## 快速填写示例

### 示例：Day 5 - 修复 Planner 硬编码

```
**日期**: 2026-02-11
**对应 TODO 编号**: P0-1
**改动的文件**:
- src/agents/planner.py

**核心改动描述**:
重写了 _parse_plan()，改为让 LLM 以 JSON 格式输出计划，
用 re.search 提取 JSON + json.loads 解析，失败时 fallback 到用 raw_markdown 展示。
测试了 Transformer 论文和 Python 基础两种输入，计划内容不再一样了。

**遇到的问题/卡点**:
Qwen-turbo 输出 JSON 时偶尔会在最后一个元素后加逗号（trailing comma），
导致标准 json.loads 失败。暂时用正则去掉 trailing comma 解决了。
```

### 示例：Day 7 - 引导流程自动化

```
**日期**: 2026-02-13
**对应 TODO 编号**: P1-1
**改动的文件**:
- src/ui/layout.py（_render_action_banner 重写）
- src/ui/logic.py（新增 handle_generate_report）
- src/ui/renderer.py（report 按钮连通）

**核心改动描述**:
重写了引导横幅的按钮逻辑，现在每个阶段的"下一步"按钮会真正触发后端动作：
Input 完成→自动发送"生成计划"给 Orchestrator；Quiz 完成→自动触发 Report 生成。
新增了 handle_generate_report() 函数连通了报告的 UI 和后端。

**遇到的问题/卡点**:
action banner 按钮点击后 st.experimental_rerun() 会导致 pending_chat_query 
丢失，因为 rerun 重置了部分 session_state。改为先写入 session_state 再 rerun 解决了。
```

---

## 周末综合复盘 Prompt（每周日用一次）

```
你是我的 AI 学习教练兼面试陪练。请帮我做本周的综合复盘。

## 项目背景
（同上，复制项目背景段落）

## 本周完成的工作

{{列出本周每天的 TODO 编号和一句话描述，如：
- Day 5 (周二): P0-1 修复 Planner 硬编码，改为 JSON 输出
- Day 6 (周三): P0-2 + P0-3 连通 Report + 统一 Quiz 数据流
- Day 7 (周四): P1-1 引导流程自动化
- Day 8 (周五): P1-3 完成庆祝页 + P2-2 GitHub 真实 API
- Day 9 (周六): P2-1 LangGraph 版 Orchestrator
}}

请帮我完成以下复盘：

### 一、本周成果总结
- 用一段话总结本周的核心进展（面试时可以直接说的）
- 项目完成度从 __% 提升到了 __%
- 哪些 TODO 完成了，哪些没完成，为什么

### 二、面试准备度评估
对照典型 JD 要求，评估我目前的面试准备度（满分 10）：

| 能力项 | 本周前 | 本周后 | 差距分析 |
|--------|--------|--------|---------|
| LangChain 使用 | ?/10 | ?/10 | ... |
| LangGraph 理解 | ?/10 | ?/10 | ... |
| RAG 工程能力 | ?/10 | ?/10 | ... |
| Multi-Agent 设计 | ?/10 | ?/10 | ... |
| 可观测性 | ?/10 | ?/10 | ... |
| 工程设计能力 | ?/10 | ?/10 | ... |
| 面试表达能力 | ?/10 | ?/10 | ... |

### 三、模拟面试（5 题）
出 5 道综合面试题（涵盖本周所有改动），模拟真实面试追问链：
- 从项目介绍开始
- 逐步深入到技术细节
- 最后一题是开放性设计题

每题给出参考回答（基于我本周的改动），并标注我目前能答到什么程度（✅能答好/⚠️能答但不够深/❌答不上来）。

### 四、下周计划建议
- 按优先级列出下周应该做的 TODO
- 每个 TODO 旁标注需要提前学习的概念
- 下周的面试准备重点是什么

回答请全部使用中文。
```

---

## 使用建议

| 时间 | 使用哪个 Prompt | 预计耗时 |
|------|---------------|---------|
| 每天下班后 | 每日复盘 Prompt | 15 分钟 |
| 每周日下午 | 周末综合复盘 Prompt | 30 分钟 |
| 面试前一天 | 让 AI 出 10 道模拟题并评分 | 45 分钟 |

> **关键提醒**：不要只让 AI 生成答案然后看一遍就完事了。
> 对每个面试模拟题，**先自己口述回答一遍**（用手机录音），
> 然后再看 AI 的参考答案对比差距。
> 面试的核心不是"知不知道"，而是"能不能流利地说出来"。
